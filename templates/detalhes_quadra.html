<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes - {{ quadra.nome }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/detalhes.css') }}">
</head>
<body>
    
    <nav class="navbar-placeholder">
        <a href="{{ url_for('home') }}" style="font-weight: bold; color: #fff; text-decoration: none;">DGASports</a>
    </nav>

    <div class="container-detalhes" data-quadra-id="{{ quadra.id }}">
        
        <header class="quadra-header">
            <img src="{{ url_for('static', filename=quadra.imagem) }}" alt="Foto da {{ quadra.nome }}" class="quadra-imagem-principal">
            
            <div class="quadra-info">
                <h1>{{ quadra.nome }}</h1>
                <p class="quadra-localizacao">
                    {{ quadra.cidade }}, {{ quadra.estado }} 
                    <span class="quadra-tipo quadra-tipo-{{ quadra.tipo.lower() }}">{{ quadra.tipo }}</span>
                </p>
                
                {% if quadra.seguindo %}
                    <button class="btn btn-seguir seguindo">Seguindo</button>
                {% else %}
                    <button class="btn btn-seguir">Seguir</button>
                {% endif %}
            </div>
        </header>

        <main class="quadra-conteudo">
            
            <section class="secao-esportes">
                <h2>Escolha o Esporte</h2>
                <div class="tabs-esportes">
                    {% for esporte in quadra.esportes %}
                        <button class="tab-esporte {% if loop.first %}ativo{% endif %}" data-esporte="{{ esporte }}">
                            {{ esporte }}
                        </button>
                    {% endfor %}
                </div>
            </section>

            <section class="secao-horarios">
                <h2>Horários Disponíveis</h2>
                <div class="lista-horarios">
                    
                    {% if not quadra.horarios %}
                        <p>Nenhum horário disponível no momento.</p>
                    {% endif %}

                    {% for horario in quadra.horarios %}
                    <div class="card-horario" data-hora="{{ horario.hora }}">
                        <div class="horario-info">
                            <span class="hora">{{ horario.hora }}</span>
                            <div class="vagas">
                                <span class="contagem">{{ horario.jogadores_atuais }} / {{ horario.max_jogadores }}</span>
                                <progress class="barra-vagas" value="{{ horario.jogadores_atuais }}" max="{{ horario.max_jogadores }}"></progress>
                            </div>
                        </div>
                        
                        <div class="horario-jogadores">
                            <strong>Jogadores na partida:</strong>
                            <div class="lista-avatares">
                                {% for jogador in horario.jogadores %}
                                    <img src="{{ jogador.avatar }}" alt="{{ jogador.nome }}" title="{{ jogador.nome }}">
                                {% else %}
                                    <span class="sem-jogadores">Ninguém agendado. Seja o primeiro!</span>
                                {% endfor %}
                            </div>
                        </div>
                        
                        <div class="horario-acao">
                            <button class="btn btn-entrar">Entrar na Partida</button>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </section>
        </main>
    </div>

    <script src="{{ url_for('static', filename='js/detalhes.js') }}"></script>
</body>
</html>